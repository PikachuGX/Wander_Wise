{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ansh9\\\\Desktop\\\\Projects\\\\WanderWise\\\\frontend\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from \"react\";\n/* global google */\nimport { FaLocationArrow, FaTimes, FaCar, FaTree, FaMoneyBillWave, FaInfoCircle, FaPlane, FaWalking, FaTrain, FaUser, FaHotel, FaUtensils, FaGasPump, FaStore } from \"react-icons/fa\";\nimport { GoogleMap, Marker, Autocomplete, DirectionsRenderer, InfoWindow, Polyline, useJsApiLoader } from \"@react-google-maps/api\";\nimport { routesService } from \"../services/api\";\nimport { GOOGLE_MAPS_LIBRARIES, GOOGLE_MAPS_API_KEY, MAP_OPTIONS, MAP_CONTAINER_STYLE, DEFAULT_CENTER } from \"../utils/mapsConfig\";\n\n// Algorithm path colors\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst algorithmColors = {\n  \"a-star\": \"#4285F4\",\n  // Blue for A*\n  \"dijkstra\": \"#FF0000\",\n  // Red for Dijkstra\n  \"bfs\": \"#00FF00\",\n  // Green for BFS\n  \"dfs\": \"#FFA500\" // Orange for DFS\n};\n\n// Transport mode speeds in km/h\nconst transportSpeeds = {\n  \"driving\": 50,\n  \"flying\": 800,\n  \"walking\": 5,\n  \"transit\": 35\n};\nconst Map = ({\n  onRouteCalculated,\n  sourceValue,\n  destinationValue,\n  onInputValueChange,\n  onLocationUpdate\n}) => {\n  _s();\n  // Add API loader\n  const {\n    isLoaded\n  } = useJsApiLoader({\n    googleMapsApiKey: GOOGLE_MAPS_API_KEY,\n    libraries: GOOGLE_MAPS_LIBRARIES\n  });\n\n  // Verify library loading on component mount\n  useEffect(() => {\n    if (isLoaded) {\n      // Check if geometry library is available\n      if (!window.google || !window.google.maps || !window.google.maps.geometry || !window.google.maps.geometry.spherical) {\n        console.warn(\"Google Maps geometry library not fully loaded. Some distance calculations will use fallback method.\");\n      } else {\n        console.log(\"Google Maps geometry library successfully loaded.\");\n      }\n    }\n  }, [isLoaded]);\n\n  // References\n  const sourceRef = useRef(null);\n  const destinationRef = useRef(null);\n  const mapRef = useRef(null);\n\n  // State\n  const [map, setMap] = useState(null);\n  const [startMarker, setStartMarker] = useState(null);\n  const [endMarker, setEndMarker] = useState(null);\n  const [airports, setAirports] = useState(null);\n  const [directionsResponse, setDirectionsResponse] = useState(null);\n  const [flightPath, setFlightPath] = useState(null);\n  const [distance, setDistance] = useState(\"\");\n  const [duration, setDuration] = useState(\"\");\n  const [routePreferences, setRoutePreferences] = useState({\n    avoidTolls: false,\n    avoidHighways: false,\n    mode: \"driving\"\n  });\n  const [algorithm, setAlgorithm] = useState(\"a-star\");\n  const [transportMode, setTransportMode] = useState(\"driving\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedMarker, setSelectedMarker] = useState(null);\n  const [toast, setToast] = useState({\n    show: false,\n    message: \"\",\n    type: \"\"\n  });\n  const [showAlgorithmInfo, setShowAlgorithmInfo] = useState(false);\n  const [currentLocation, setCurrentLocation] = useState(null);\n\n  // Callback when map loads\n  const onMapLoad = useCallback(map => {\n    mapRef.current = map;\n    setMap(map);\n  }, []);\n\n  // Show toast notification\n  const showToast = (message, type = \"success\") => {\n    setToast({\n      show: true,\n      message,\n      type\n    });\n    setTimeout(() => setToast({\n      show: false,\n      message: \"\",\n      type: \"\"\n    }), 3000);\n  };\n\n  // Fallback function to calculate distance between two points using the Haversine formula\n  const calculateHaversineDistance = (point1, point2) => {\n    const toRad = value => value * Math.PI / 180;\n    const R = 6371e3; // Earth's radius in meters\n\n    const lat1 = point1.lat;\n    const lon1 = point1.lng;\n    const lat2 = point2.lat;\n    const lon2 = point2.lng;\n    const φ1 = toRad(lat1);\n    const φ2 = toRad(lat2);\n    const Δφ = toRad(lat2 - lat1);\n    const Δλ = toRad(lon2 - lon1);\n    const a = Math.sin(Δφ / 2) * Math.sin(Δφ / 2) + Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // Distance in meters\n  };\n\n  // Get address from coordinates\n  const getAddressFromCoordinates = async coords => {\n    try {\n      const geocoder = new google.maps.Geocoder();\n      const response = await new Promise((resolve, reject) => {\n        geocoder.geocode({\n          location: coords\n        }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0].formatted_address);\n          } else {\n            reject(new Error(\"Geocoding failed\"));\n          }\n        });\n      });\n      return response;\n    } catch (error) {\n      console.error(\"Error getting address:\", error);\n      return \"Current Location\";\n    }\n  };\n\n  // Calculate route using Google Directions Service\n  const calculateRoute = async () => {\n    if (!sourceRef.current.value || !destinationRef.current.value) {\n      showToast(\"Please enter both source and destination\", \"error\");\n      return;\n    }\n    setIsLoading(true);\n    setAirports(null);\n    setFlightPath(null);\n    // Hide current location marker when calculating a route\n    setCurrentLocation(null);\n    // Close the algorithm panel after starting calculation\n    setShowAlgorithmInfo(false);\n    try {\n      // Get the places from autocomplete\n      const sourcePlace = sourceRef.current.value;\n      const destPlace = destinationRef.current.value;\n\n      // First, use Google's Geocoding to get coordinates\n      const geocoder = new google.maps.Geocoder();\n\n      // Get source coordinates\n      const sourceGeocode = await new Promise((resolve, reject) => {\n        geocoder.geocode({\n          address: sourcePlace\n        }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0]);\n          } else {\n            reject(new Error(`Geocoding failed for ${sourcePlace}`));\n          }\n        });\n      });\n\n      // Get destination coordinates\n      const destGeocode = await new Promise((resolve, reject) => {\n        geocoder.geocode({\n          address: destPlace\n        }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0]);\n          } else {\n            reject(new Error(`Geocoding failed for ${destPlace}`));\n          }\n        });\n      });\n      const sourceCoords = {\n        lat: sourceGeocode.geometry.location.lat(),\n        lng: sourceGeocode.geometry.location.lng()\n      };\n      const destCoords = {\n        lat: destGeocode.geometry.location.lat(),\n        lng: destGeocode.geometry.location.lng()\n      };\n\n      // Set markers for source and destination (except for flights)\n      setStartMarker(sourceCoords);\n      setEndMarker(destCoords);\n\n      // Center the map to show both points\n      const bounds = new google.maps.LatLngBounds();\n      bounds.extend(sourceCoords);\n      bounds.extend(destCoords);\n      map.fitBounds(bounds);\n\n      // Now, use our backend API for route calculation using selected algorithm\n      const source = {\n        name: sourcePlace,\n        lat: sourceCoords.lat,\n        lng: sourceCoords.lng\n      };\n      const destination = {\n        name: destPlace,\n        lat: destCoords.lat,\n        lng: destCoords.lng\n      };\n\n      // Call our API to calculate path using the selected algorithm\n      await routesService.calculateRoute(source, destination, algorithm, transportMode);\n\n      // Calculate appropriate distance and time based on transport mode\n      let distanceValue, durationValue, directionsResult;\n      if (transportMode === \"flying\") {\n        // For flights, calculate direct distance - using our fallback if spherical is not available\n        let directDistance;\n        try {\n          // Try to use Google's geometry library if available\n          directDistance = google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(sourceCoords), new google.maps.LatLng(destCoords));\n        } catch (error) {\n          // Fallback to our Haversine implementation if Google's geometry is not available\n          console.warn(\"Google geometry library not available, using fallback calculation\");\n          directDistance = calculateHaversineDistance(sourceCoords, destCoords);\n        }\n        distanceValue = directDistance;\n        durationValue = directDistance / 1000 / transportSpeeds.flying * 3600;\n\n        // Find nearby airports\n        const sourceAirport = await findNearbyAirports(sourceCoords);\n        const destAirport = await findNearbyAirports(destCoords);\n\n        // Set airport markers\n        if (sourceAirport && destAirport) {\n          setAirports({\n            source: sourceAirport,\n            destination: destAirport\n          });\n\n          // Create flight path\n          setFlightPath([sourceCoords, sourceAirport.position,\n          // From source to airport\n          destAirport.position,\n          // From airport to airport (flight)\n          destCoords // From airport to destination\n          ]);\n\n          // Get directions to and from airports\n          const directionsService = new google.maps.DirectionsService();\n\n          // Source to source airport\n          const toAirportDirections = await directionsService.route({\n            origin: sourceCoords,\n            destination: sourceAirport.position,\n            travelMode: google.maps.TravelMode.DRIVING\n          });\n\n          // Destination airport to destination\n          const fromAirportDirections = await directionsService.route({\n            origin: destAirport.position,\n            destination: destCoords,\n            travelMode: google.maps.TravelMode.DRIVING\n          });\n\n          // Add these distances to total\n          const toAirportDistance = toAirportDirections.routes[0].legs[0].distance.value;\n          const fromAirportDistance = fromAirportDirections.routes[0].legs[0].distance.value;\n\n          // Update total distance to include travel to/from airports\n          distanceValue += toAirportDistance + fromAirportDistance;\n\n          // Update duration to include travel to/from airports\n          const toAirportDuration = toAirportDirections.routes[0].legs[0].duration.value;\n          const fromAirportDuration = fromAirportDirections.routes[0].legs[0].duration.value;\n          durationValue += toAirportDuration + fromAirportDuration;\n\n          // Plus 2 hours for airport procedures\n          durationValue += 2 * 60 * 60; // 2 hours in seconds\n        }\n\n        // Clear any existing directions\n        setDirectionsResponse(null);\n      } else {\n        // For other modes, get directions from Google\n        const directionsService = new google.maps.DirectionsService();\n        directionsResult = await directionsService.route({\n          origin: sourceCoords,\n          destination: destCoords,\n          travelMode: google.maps.TravelMode[transportMode.toUpperCase()],\n          avoidTolls: routePreferences.avoidTolls,\n          avoidHighways: routePreferences.avoidHighways\n        });\n        distanceValue = directionsResult.routes[0].legs[0].distance.value;\n        durationValue = directionsResult.routes[0].legs[0].duration.value;\n\n        // Set directions with custom styling for algorithms\n        const rendererOptions = {\n          directions: directionsResult,\n          options: {\n            polylineOptions: {\n              strokeColor: algorithmColors[algorithm],\n              strokeWeight: 6,\n              strokeOpacity: 0.8\n            },\n            suppressMarkers: true // Suppress default markers since we're using custom ones\n          }\n        };\n        setDirectionsResponse(rendererOptions);\n        setFlightPath(null);\n        setAirports(null);\n      }\n\n      // Format distance\n      let distanceText;\n      if (distanceValue < 1000) {\n        distanceText = `${Math.round(distanceValue)} m`;\n      } else {\n        distanceText = `${(distanceValue / 1000).toFixed(2)} km`;\n      }\n\n      // Format duration\n      let durationText;\n      if (durationValue < 60) {\n        durationText = `${Math.round(durationValue)} sec`;\n      } else if (durationValue < 3600) {\n        durationText = `${Math.floor(durationValue / 60)} min`;\n      } else {\n        const hours = Math.floor(durationValue / 3600);\n        const minutes = Math.floor(durationValue % 3600 / 60);\n        durationText = `${hours} hr ${minutes} min`;\n      }\n      setDistance(distanceText);\n      setDuration(durationText);\n\n      // Notify parent component about the calculated route\n      if (onRouteCalculated) {\n        onRouteCalculated(source, destination, {\n          source,\n          destination,\n          distance: distanceValue,\n          duration: durationValue\n        });\n      }\n\n      // Show success message\n      let algorithmName;\n      switch (algorithm) {\n        case \"dijkstra\":\n          algorithmName = \"Dijkstra's\";\n          break;\n        case \"bfs\":\n          algorithmName = \"BFS\";\n          break;\n        case \"dfs\":\n          algorithmName = \"DFS\";\n          break;\n        default:\n          algorithmName = \"A*\";\n      }\n      showToast(`Route calculated using ${algorithmName} algorithm`);\n    } catch (error) {\n      console.error(\"Error calculating route:\", error);\n      showToast(error.message || \"Error calculating route\", \"error\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Clear route\n  const clearRoute = () => {\n    setStartMarker(null);\n    setEndMarker(null);\n    setDirectionsResponse(null);\n    setFlightPath(null);\n    setAirports(null);\n    setDistance(\"\");\n    setDuration(\"\");\n\n    // Restore current location if needed\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const pos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setCurrentLocation(pos);\n\n        // Pass current location to parent component\n        if (onLocationUpdate) {\n          onLocationUpdate(pos);\n        }\n      }, error => {\n        console.error(\"Geolocation error:\", error);\n      });\n    }\n\n    // Update parent state\n    onInputValueChange('source', '');\n    onInputValueChange('destination', '');\n  };\n\n  // Clear a specific field (origin or destination)\n  const clearField = field => {\n    if (field === 'source') {\n      onInputValueChange('source', '');\n      sourceRef.current.value = '';\n      if (startMarker) {\n        setStartMarker(null);\n        // If we have a route calculated, clear it\n        if (directionsResponse || flightPath) {\n          clearRoute();\n        }\n      }\n    } else if (field === 'destination') {\n      onInputValueChange('destination', '');\n      destinationRef.current.value = '';\n      if (endMarker) {\n        setEndMarker(null);\n        // If we have a route calculated, clear it\n        if (directionsResponse || flightPath) {\n          clearRoute();\n        }\n      }\n    }\n  };\n\n  // Update input refs when props change\n  useEffect(() => {\n    if (sourceRef.current && sourceValue) {\n      sourceRef.current.value = sourceValue;\n    }\n    if (destinationRef.current && destinationValue) {\n      destinationRef.current.value = destinationValue;\n    }\n  }, [sourceValue, destinationValue]);\n\n  // Center map on current position\n  const getCurrentLocation = async () => {\n    if (navigator.geolocation) {\n      try {\n        const position = await new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(pos => resolve({\n            lat: pos.coords.latitude,\n            lng: pos.coords.longitude\n          }), error => reject(error));\n        });\n\n        // Set current location first time we get it\n        if (!currentLocation) {\n          setCurrentLocation(position);\n\n          // Pass location to parent component\n          if (onLocationUpdate) {\n            onLocationUpdate(position);\n          }\n        }\n        showToast(\"Location found!\");\n\n        // Set the source field to current location\n        if (sourceRef.current) {\n          const address = await getAddressFromCoordinates(position);\n          sourceRef.current.value = address;\n          handleInputChange('source', address);\n        }\n        if (map) {\n          map.setCenter(position);\n          map.setZoom(13);\n        }\n      } catch (error) {\n        console.error(\"Error getting current location:\", error);\n        showToast(\"Unable to retrieve your location\", \"error\");\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      showToast(\"Error: Your browser doesn't support geolocation\", \"error\");\n    }\n  };\n\n  // Effect when component mounts - try to get current location automatically\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        const pos = {\n          lat: position.coords.latitude,\n          lng: position.coords.longitude\n        };\n        setCurrentLocation(pos);\n\n        // Pass current location to parent component\n        if (onLocationUpdate) {\n          onLocationUpdate(pos);\n        }\n      }, error => {\n        console.error(\"Geolocation error:\", error);\n      });\n    }\n  }, []);\n\n  // Handle route preference changes\n  const handlePreferenceChange = e => {\n    const {\n      name,\n      value,\n      checked,\n      type\n    } = e.target;\n    setRoutePreferences(prev => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value\n    }));\n  };\n\n  // Handle algorithm change\n  const handleAlgorithmChange = e => {\n    setAlgorithm(e.target.value);\n\n    // Update route color if directions exist\n    if (directionsResponse) {\n      setDirectionsResponse({\n        ...directionsResponse,\n        options: {\n          ...directionsResponse.options,\n          polylineOptions: {\n            ...directionsResponse.options.polylineOptions,\n            strokeColor: algorithmColors[e.target.value]\n          }\n        }\n      });\n    }\n  };\n\n  // Handle transport mode change\n  const handleTransportModeChange = mode => {\n    setTransportMode(mode);\n    if (mode !== \"flying\") {\n      setAirports(null);\n      setFlightPath(null);\n    }\n  };\n\n  // Toggle algorithm info\n  const toggleAlgorithmInfo = () => {\n    setShowAlgorithmInfo(!showAlgorithmInfo);\n  };\n\n  // Get icon for transport mode button\n  const getTransportIcon = mode => {\n    switch (mode) {\n      case \"flying\":\n        return /*#__PURE__*/_jsxDEV(FaPlane, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 592,\n          columnNumber: 16\n        }, this);\n      case \"walking\":\n        return /*#__PURE__*/_jsxDEV(FaWalking, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 16\n        }, this);\n      case \"transit\":\n        return /*#__PURE__*/_jsxDEV(FaTrain, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(FaCar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 16\n        }, this);\n    }\n  };\n\n  // Find nearby airports\n  const findNearbyAirports = async location => {\n    try {\n      // In a real app, we'd use a Places API call\n      // For demonstration, we'll simulate finding airports\n\n      // Generate a fake airport nearby (within ~10-20km)\n      const airportOffset = () => Math.random() * 0.2 - 0.1; // Random offset of ~10km\n\n      const airportLat = location.lat + airportOffset();\n      const airportLng = location.lng + airportOffset();\n\n      // Generate an IATA code\n      const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n      const randomLetter = () => alphabet[Math.floor(Math.random() * alphabet.length)];\n      const iataCode = randomLetter() + randomLetter() + randomLetter();\n      return {\n        position: {\n          lat: airportLat,\n          lng: airportLng\n        },\n        name: `${iataCode} International Airport`,\n        iata: iataCode\n      };\n    } catch (error) {\n      console.error(\"Error finding airports:\", error);\n      return null;\n    }\n  };\n\n  // Handle input changes and pass to parent component\n  const handleInputChange = (type, value) => {\n    if (onInputValueChange) {\n      onInputValueChange(type, value);\n    }\n  };\n\n  // Render loading state if Google Maps isn't loaded yet\n  if (!isLoaded) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading Maps...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 639,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex h-full\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative w-full h-full\",\n      children: [/*#__PURE__*/_jsxDEV(GoogleMap, {\n        mapContainerStyle: MAP_CONTAINER_STYLE,\n        center: DEFAULT_CENTER,\n        zoom: 10,\n        options: MAP_OPTIONS,\n        onLoad: onMapLoad,\n        children: [directionsResponse && /*#__PURE__*/_jsxDEV(DirectionsRenderer, {\n          directions: directionsResponse.directions,\n          options: directionsResponse.options\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 654,\n          columnNumber: 13\n        }, this), flightPath && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Polyline, {\n            path: [flightPath[0], flightPath[1]],\n            options: {\n              strokeColor: \"#808080\",\n              // Gray for ground transport\n              strokeOpacity: 0.8,\n              strokeWeight: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 664,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n            path: [flightPath[1], flightPath[2]],\n            options: {\n              strokeColor: algorithmColors[algorithm],\n              strokeOpacity: 0.8,\n              strokeWeight: 5,\n              geodesic: true,\n              // Creates an arc for flight path\n              icons: [{\n                icon: {\n                  path: 'M 0,-1 0,1',\n                  strokeOpacity: 1,\n                  scale: 4\n                },\n                offset: '0',\n                repeat: '20px'\n              }]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 674,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Polyline, {\n            path: [flightPath[2], flightPath[3]],\n            options: {\n              strokeColor: \"#808080\",\n              // Gray for ground transport\n              strokeOpacity: 0.8,\n              strokeWeight: 3\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 694,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), startMarker && /*#__PURE__*/_jsxDEV(Marker, {\n          position: startMarker,\n          label: \"A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 13\n        }, this), endMarker && /*#__PURE__*/_jsxDEV(Marker, {\n          position: endMarker,\n          label: \"B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 13\n        }, this), airports && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Marker, {\n            position: airports.source.position,\n            icon: {\n              url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n              scaledSize: new google.maps.Size(32, 32)\n            },\n            onClick: () => setSelectedMarker({\n              position: airports.source.position,\n              title: airports.source.name,\n              description: `Airport code: ${airports.source.iata}`\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 722,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: airports.destination.position,\n            icon: {\n              url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n              scaledSize: new google.maps.Size(32, 32)\n            },\n            onClick: () => setSelectedMarker({\n              position: airports.destination.position,\n              title: airports.destination.name,\n              description: `Airport code: ${airports.destination.iata}`\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 734,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), selectedMarker && /*#__PURE__*/_jsxDEV(InfoWindow, {\n          position: selectedMarker.position,\n          onCloseClick: () => setSelectedMarker(null),\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-gray-900 mb-1\",\n              children: selectedMarker.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 755,\n              columnNumber: 17\n            }, this), selectedMarker.type && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-blue-600 font-medium mb-1\",\n              children: selectedMarker.type\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 759,\n              columnNumber: 19\n            }, this), selectedMarker.rating && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-yellow-500 font-medium mb-1\",\n              children: [\"Rating: \", selectedMarker.rating, \" \\u2605\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 764,\n              columnNumber: 19\n            }, this), selectedMarker.description && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-600\",\n              children: selectedMarker.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 769,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 754,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 13\n        }, this), currentLocation && !startMarker && !endMarker && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Marker, {\n            position: currentLocation,\n            icon: {\n              path: google.maps.SymbolPath.CIRCLE,\n              fillColor: '#4285F4',\n              fillOpacity: 0.2,\n              strokeColor: '#4285F4',\n              strokeOpacity: 0.5,\n              strokeWeight: 1,\n              scale: 12\n            },\n            clickable: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 781,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Marker, {\n            position: currentLocation,\n            icon: {\n              path: google.maps.SymbolPath.CIRCLE,\n              fillColor: '#4285F4',\n              fillOpacity: 1,\n              strokeColor: '#FFFFFF',\n              strokeWeight: 2,\n              scale: 6\n            },\n            title: \"Your location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-4 left-4 bg-white p-4 rounded-lg shadow-md w-72\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold text-lg\",\n            children: \"WanderWise Router\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: sourceRef,\n                  type: \"text\",\n                  placeholder: \"Origin\",\n                  defaultValue: sourceValue,\n                  onChange: e => onInputValueChange('source', e.target.value),\n                  className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 819,\n                  columnNumber: 19\n                }, this), sourceValue && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\",\n                  onClick: () => clearField('source'),\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 828,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 818,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"relative\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: destinationRef,\n                  type: \"text\",\n                  placeholder: \"Destination\",\n                  defaultValue: destinationValue,\n                  onChange: e => onInputValueChange('destination', e.target.value),\n                  className: \"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 841,\n                  columnNumber: 19\n                }, this), destinationValue && /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\",\n                  onClick: () => clearField('destination'),\n                  children: \"\\u2715\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 840,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 839,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 838,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mr-2\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"avoidTolls\",\n                  checked: routePreferences.avoidTolls,\n                  onChange: handlePreferenceChange,\n                  className: \"rounded text-teal-500 focus:ring-teal-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 864,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FaMoneyBillWave, {\n                    className: \"text-teal-500 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 872,\n                    columnNumber: 21\n                  }, this), \" No Tolls\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"checkbox\",\n                  name: \"avoidHighways\",\n                  checked: routePreferences.avoidHighways,\n                  onChange: handlePreferenceChange,\n                  className: \"rounded text-teal-500 focus:ring-teal-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 878,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(FaTree, {\n                    className: \"text-teal-500 mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 886,\n                    columnNumber: 21\n                  }, this), \" Scenic\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 885,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 877,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 876,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-gray-300 rounded overflow-hidden\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: toggleAlgorithmInfo,\n                className: `w-full px-3 py-2 text-sm font-medium ${showAlgorithmInfo ? 'bg-teal-50 text-teal-600' : 'text-gray-700 hover:bg-gray-50'} flex justify-between items-center`,\n                title: \"Click to select routing algorithm\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Algorithms\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FaInfoCircle, {\n                  className: `transition-transform ${showAlgorithmInfo ? 'transform rotate-180' : ''}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 901,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 895,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 894,\n              columnNumber: 15\n            }, this), showAlgorithmInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 p-2 bg-gray-100 rounded border border-gray-200 text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"algorithm\",\n                    value: \"a-star\",\n                    checked: algorithm === \"a-star\",\n                    onChange: handleAlgorithmChange,\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 909,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"A* Algorithm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 917,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 908,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 ml-4\",\n                  children: \"Optimized pathfinding, fastest routes.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 919,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 907,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"algorithm\",\n                    value: \"dijkstra\",\n                    checked: algorithm === \"dijkstra\",\n                    onChange: handleAlgorithmChange,\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 924,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"Dijkstra's Algorithm\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 932,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 ml-4\",\n                  children: \"Finds shortest path, considers all options.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 934,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 922,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"algorithm\",\n                    value: \"bfs\",\n                    checked: algorithm === \"bfs\",\n                    onChange: handleAlgorithmChange,\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 939,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"BFS (Breadth-First Search)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 947,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 938,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 ml-4\",\n                  children: \"Explores routes level by level, good for shorter distances.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 949,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 937,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"flex items-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"radio\",\n                    name: \"algorithm\",\n                    value: \"dfs\",\n                    checked: algorithm === \"dfs\",\n                    onChange: handleAlgorithmChange,\n                    className: \"mr-1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 954,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: \"DFS (Depth-First Search)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 962,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 953,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-gray-600 ml-4\",\n                  children: \"Explores deep routes first, can find scenic alternatives.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 964,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 952,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 906,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between mt-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTransportModeChange(\"driving\"),\n              className: `p-2 rounded-full ${transportMode === \"driving\" ? \"bg-teal-500 text-white\" : \"bg-gray-200 text-gray-600\"}`,\n              title: \"Car\",\n              children: /*#__PURE__*/_jsxDEV(FaCar, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 972,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTransportModeChange(\"flying\"),\n              className: `p-2 rounded-full ${transportMode === \"flying\" ? \"bg-teal-500 text-white\" : \"bg-gray-200 text-gray-600\"}`,\n              title: \"Flight\",\n              children: /*#__PURE__*/_jsxDEV(FaPlane, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 992,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTransportModeChange(\"walking\"),\n              className: `p-2 rounded-full ${transportMode === \"walking\" ? \"bg-teal-500 text-white\" : \"bg-gray-200 text-gray-600\"}`,\n              title: \"Walking\",\n              children: /*#__PURE__*/_jsxDEV(FaWalking, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1003,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 994,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleTransportModeChange(\"transit\"),\n              className: `p-2 rounded-full ${transportMode === \"transit\" ? \"bg-teal-500 text-white\" : \"bg-gray-200 text-gray-600\"}`,\n              title: \"Transit\",\n              children: /*#__PURE__*/_jsxDEV(FaTrain, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1005,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 971,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: calculateRoute,\n              className: \"flex items-center justify-center bg-teal-500 text-white py-2 px-4 rounded hover:bg-teal-600 transition\",\n              disabled: isLoading,\n              children: isLoading ? \"Calculating...\" : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [transportMode === \"driving\" ? /*#__PURE__*/_jsxDEV(FaCar, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1028,\n                  columnNumber: 52\n                }, this) : transportMode === \"flying\" ? /*#__PURE__*/_jsxDEV(FaPlane, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1029,\n                  columnNumber: 50\n                }, this) : transportMode === \"walking\" ? /*#__PURE__*/_jsxDEV(FaWalking, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1030,\n                  columnNumber: 51\n                }, this) : /*#__PURE__*/_jsxDEV(FaTrain, {\n                  className: \"mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1031,\n                  columnNumber: 21\n                }, this), \"Calculate\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: clearRoute,\n              className: \"bg-red-500 text-white p-2 rounded hover:bg-red-600 transition\",\n              children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1040,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1036,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: getCurrentLocation,\n              className: \"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition\",\n              children: /*#__PURE__*/_jsxDEV(FaLocationArrow, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1046,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1042,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 13\n          }, this), distance && duration && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 p-2 bg-gray-100 rounded\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Distance:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 42\n              }, this), \" \", distance]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Duration:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 42\n              }, this), \" \", duration]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1054,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500 mt-1\",\n              children: [\"Calculated using \", algorithm === \"a-star\" ? \"A*\" : algorithm === \"dijkstra\" ? \"Dijkstra's\" : algorithm === \"bfs\" ? \"BFS\" : \"DFS\", \" algorithm\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1055,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [\"Transport mode: \", transportMode === \"driving\" ? \"Car\" : transportMode === \"flying\" ? \"Flight\" : transportMode === \"walking\" ? \"Walking\" : \"Transit\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1060,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 15\n          }, this), toast.show && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `mt-2 p-2 rounded text-sm ${toast.type === 'error' ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'}`,\n            children: toast.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1070,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 813,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 812,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 645,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 643,\n    columnNumber: 5\n  }, this);\n};\n_s(Map, \"S1wx+KiZcJ1c6BlhUjZRy2R/Jkc=\", false, function () {\n  return [useJsApiLoader];\n});\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","FaLocationArrow","FaTimes","FaCar","FaTree","FaMoneyBillWave","FaInfoCircle","FaPlane","FaWalking","FaTrain","FaUser","FaHotel","FaUtensils","FaGasPump","FaStore","GoogleMap","Marker","Autocomplete","DirectionsRenderer","InfoWindow","Polyline","useJsApiLoader","routesService","GOOGLE_MAPS_LIBRARIES","GOOGLE_MAPS_API_KEY","MAP_OPTIONS","MAP_CONTAINER_STYLE","DEFAULT_CENTER","jsxDEV","_jsxDEV","Fragment","_Fragment","algorithmColors","transportSpeeds","Map","onRouteCalculated","sourceValue","destinationValue","onInputValueChange","onLocationUpdate","_s","isLoaded","googleMapsApiKey","libraries","window","google","maps","geometry","spherical","console","warn","log","sourceRef","destinationRef","mapRef","map","setMap","startMarker","setStartMarker","endMarker","setEndMarker","airports","setAirports","directionsResponse","setDirectionsResponse","flightPath","setFlightPath","distance","setDistance","duration","setDuration","routePreferences","setRoutePreferences","avoidTolls","avoidHighways","mode","algorithm","setAlgorithm","transportMode","setTransportMode","isLoading","setIsLoading","selectedMarker","setSelectedMarker","toast","setToast","show","message","type","showAlgorithmInfo","setShowAlgorithmInfo","currentLocation","setCurrentLocation","onMapLoad","current","showToast","setTimeout","calculateHaversineDistance","point1","point2","toRad","value","Math","PI","R","lat1","lat","lon1","lng","lat2","lon2","φ1","φ2","Δφ","Δλ","a","sin","cos","c","atan2","sqrt","getAddressFromCoordinates","coords","geocoder","Geocoder","response","Promise","resolve","reject","geocode","location","results","status","GeocoderStatus","OK","formatted_address","Error","error","calculateRoute","sourcePlace","destPlace","sourceGeocode","address","destGeocode","sourceCoords","destCoords","bounds","LatLngBounds","extend","fitBounds","source","name","destination","distanceValue","durationValue","directionsResult","directDistance","computeDistanceBetween","LatLng","flying","sourceAirport","findNearbyAirports","destAirport","position","directionsService","DirectionsService","toAirportDirections","route","origin","travelMode","TravelMode","DRIVING","fromAirportDirections","toAirportDistance","routes","legs","fromAirportDistance","toAirportDuration","fromAirportDuration","toUpperCase","rendererOptions","directions","options","polylineOptions","strokeColor","strokeWeight","strokeOpacity","suppressMarkers","distanceText","round","toFixed","durationText","floor","hours","minutes","algorithmName","clearRoute","navigator","geolocation","getCurrentPosition","pos","latitude","longitude","clearField","field","getCurrentLocation","handleInputChange","setCenter","setZoom","handlePreferenceChange","e","checked","target","prev","handleAlgorithmChange","handleTransportModeChange","toggleAlgorithmInfo","getTransportIcon","fileName","_jsxFileName","lineNumber","columnNumber","airportOffset","random","airportLat","airportLng","alphabet","randomLetter","length","iataCode","iata","children","className","mapContainerStyle","center","zoom","onLoad","path","geodesic","icons","icon","scale","offset","repeat","label","url","scaledSize","Size","onClick","title","description","onCloseClick","rating","SymbolPath","CIRCLE","fillColor","fillOpacity","clickable","ref","placeholder","defaultValue","onChange","disabled","_c","$RefreshReg$"],"sources":["C:/Users/ansh9/Desktop/Projects/WanderWise/frontend/src/components/Map.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from \"react\";\n/* global google */\nimport {\n  FaLocationArrow,\n  FaTimes,\n  FaCar,\n  FaTree,\n  FaMoneyBillWave,\n  FaInfoCircle,\n  FaPlane,\n  FaWalking,\n  FaTrain,\n  FaUser,\n  FaHotel,\n  FaUtensils,\n  FaGasPump,\n  FaStore\n} from \"react-icons/fa\";\nimport {\n  GoogleMap,\n  Marker,\n  Autocomplete,\n  DirectionsRenderer,\n  InfoWindow,\n  Polyline,\n  useJsApiLoader\n} from \"@react-google-maps/api\";\n\nimport { routesService } from \"../services/api\";\nimport { \n  GOOGLE_MAPS_LIBRARIES, \n  GOOGLE_MAPS_API_KEY, \n  MAP_OPTIONS, \n  MAP_CONTAINER_STYLE, \n  DEFAULT_CENTER \n} from \"../utils/mapsConfig\";\n\n// Algorithm path colors\nconst algorithmColors = {\n  \"a-star\": \"#4285F4\", // Blue for A*\n  \"dijkstra\": \"#FF0000\", // Red for Dijkstra\n  \"bfs\": \"#00FF00\", // Green for BFS\n  \"dfs\": \"#FFA500\", // Orange for DFS\n};\n\n// Transport mode speeds in km/h\nconst transportSpeeds = {\n  \"driving\": 50,\n  \"flying\": 800,\n  \"walking\": 5,\n  \"transit\": 35,\n};\n\nconst Map = ({ onRouteCalculated, sourceValue, destinationValue, onInputValueChange, onLocationUpdate }) => {\n  // Add API loader\n  const { isLoaded } = useJsApiLoader({\n    googleMapsApiKey: GOOGLE_MAPS_API_KEY,\n    libraries: GOOGLE_MAPS_LIBRARIES,\n  });\n\n  // Verify library loading on component mount\n  useEffect(() => {\n    if (isLoaded) {\n      // Check if geometry library is available\n      if (!window.google || !window.google.maps || !window.google.maps.geometry || !window.google.maps.geometry.spherical) {\n        console.warn(\"Google Maps geometry library not fully loaded. Some distance calculations will use fallback method.\");\n      } else {\n        console.log(\"Google Maps geometry library successfully loaded.\");\n      }\n    }\n  }, [isLoaded]);\n\n  // References\n  const sourceRef = useRef(null);\n  const destinationRef = useRef(null);\n  const mapRef = useRef(null);\n\n  // State\n  const [map, setMap] = useState(null);\n  const [startMarker, setStartMarker] = useState(null);\n  const [endMarker, setEndMarker] = useState(null);\n  const [airports, setAirports] = useState(null);\n  const [directionsResponse, setDirectionsResponse] = useState(null);\n  const [flightPath, setFlightPath] = useState(null);\n  const [distance, setDistance] = useState(\"\");\n  const [duration, setDuration] = useState(\"\");\n  const [routePreferences, setRoutePreferences] = useState({\n    avoidTolls: false,\n    avoidHighways: false,\n    mode: \"driving\",\n  });\n  const [algorithm, setAlgorithm] = useState(\"a-star\");\n  const [transportMode, setTransportMode] = useState(\"driving\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [selectedMarker, setSelectedMarker] = useState(null);\n  const [toast, setToast] = useState({ show: false, message: \"\", type: \"\" });\n  const [showAlgorithmInfo, setShowAlgorithmInfo] = useState(false);\n  const [currentLocation, setCurrentLocation] = useState(null);\n\n  // Callback when map loads\n  const onMapLoad = useCallback((map) => {\n    mapRef.current = map;\n    setMap(map);\n  }, []);\n\n  // Show toast notification\n  const showToast = (message, type = \"success\") => {\n    setToast({ show: true, message, type });\n    setTimeout(() => setToast({ show: false, message: \"\", type: \"\" }), 3000);\n  };\n\n  // Fallback function to calculate distance between two points using the Haversine formula\n  const calculateHaversineDistance = (point1, point2) => {\n    const toRad = (value) => (value * Math.PI) / 180;\n    const R = 6371e3; // Earth's radius in meters\n    \n    const lat1 = point1.lat;\n    const lon1 = point1.lng;\n    const lat2 = point2.lat;\n    const lon2 = point2.lng;\n    \n    const φ1 = toRad(lat1);\n    const φ2 = toRad(lat2);\n    const Δφ = toRad(lat2 - lat1);\n    const Δλ = toRad(lon2 - lon1);\n    \n    const a = Math.sin(Δφ/2) * Math.sin(Δφ/2) +\n              Math.cos(φ1) * Math.cos(φ2) *\n              Math.sin(Δλ/2) * Math.sin(Δλ/2);\n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n    \n    return R * c; // Distance in meters\n  };\n\n  // Get address from coordinates\n  const getAddressFromCoordinates = async (coords) => {\n    try {\n      const geocoder = new google.maps.Geocoder();\n      const response = await new Promise((resolve, reject) => {\n        geocoder.geocode({ location: coords }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0].formatted_address);\n          } else {\n            reject(new Error(\"Geocoding failed\"));\n          }\n        });\n      });\n      return response;\n    } catch (error) {\n      console.error(\"Error getting address:\", error);\n      return \"Current Location\";\n    }\n  };\n\n  // Calculate route using Google Directions Service\n  const calculateRoute = async () => {\n    if (!sourceRef.current.value || !destinationRef.current.value) {\n      showToast(\"Please enter both source and destination\", \"error\");\n      return;\n    }\n\n    setIsLoading(true);\n    setAirports(null);\n    setFlightPath(null);\n    // Hide current location marker when calculating a route\n    setCurrentLocation(null);\n    // Close the algorithm panel after starting calculation\n    setShowAlgorithmInfo(false);\n\n    try {\n      // Get the places from autocomplete\n      const sourcePlace = sourceRef.current.value;\n      const destPlace = destinationRef.current.value;\n\n      // First, use Google's Geocoding to get coordinates\n      const geocoder = new google.maps.Geocoder();\n      \n      // Get source coordinates\n      const sourceGeocode = await new Promise((resolve, reject) => {\n        geocoder.geocode({ address: sourcePlace }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0]);\n          } else {\n            reject(new Error(`Geocoding failed for ${sourcePlace}`));\n          }\n        });\n      });\n      \n      // Get destination coordinates\n      const destGeocode = await new Promise((resolve, reject) => {\n        geocoder.geocode({ address: destPlace }, (results, status) => {\n          if (status === google.maps.GeocoderStatus.OK) {\n            resolve(results[0]);\n          } else {\n            reject(new Error(`Geocoding failed for ${destPlace}`));\n          }\n        });\n      });\n\n      const sourceCoords = {\n        lat: sourceGeocode.geometry.location.lat(),\n        lng: sourceGeocode.geometry.location.lng(),\n      };\n\n      const destCoords = {\n        lat: destGeocode.geometry.location.lat(),\n        lng: destGeocode.geometry.location.lng(),\n      };\n\n      // Set markers for source and destination (except for flights)\n      setStartMarker(sourceCoords);\n      setEndMarker(destCoords);\n\n      // Center the map to show both points\n      const bounds = new google.maps.LatLngBounds();\n      bounds.extend(sourceCoords);\n      bounds.extend(destCoords);\n      map.fitBounds(bounds);\n\n      // Now, use our backend API for route calculation using selected algorithm\n      const source = {\n        name: sourcePlace,\n        lat: sourceCoords.lat,\n        lng: sourceCoords.lng,\n      };\n\n      const destination = {\n        name: destPlace,\n        lat: destCoords.lat,\n        lng: destCoords.lng,\n      };\n\n      // Call our API to calculate path using the selected algorithm\n      await routesService.calculateRoute(\n        source,\n        destination,\n        algorithm,\n        transportMode\n      );\n\n      // Calculate appropriate distance and time based on transport mode\n      let distanceValue, durationValue, directionsResult;\n      \n      if (transportMode === \"flying\") {\n        // For flights, calculate direct distance - using our fallback if spherical is not available\n        let directDistance;\n        try {\n          // Try to use Google's geometry library if available\n          directDistance = google.maps.geometry.spherical.computeDistanceBetween(\n            new google.maps.LatLng(sourceCoords),\n            new google.maps.LatLng(destCoords)\n          );\n        } catch (error) {\n          // Fallback to our Haversine implementation if Google's geometry is not available\n          console.warn(\"Google geometry library not available, using fallback calculation\");\n          directDistance = calculateHaversineDistance(sourceCoords, destCoords);\n        }\n        \n        distanceValue = directDistance;\n        durationValue = (directDistance / 1000) / transportSpeeds.flying * 3600;\n        \n        // Find nearby airports\n        const sourceAirport = await findNearbyAirports(sourceCoords);\n        const destAirport = await findNearbyAirports(destCoords);\n        \n        // Set airport markers\n        if (sourceAirport && destAirport) {\n          setAirports({\n            source: sourceAirport,\n            destination: destAirport\n          });\n          \n          // Create flight path\n          setFlightPath([\n            sourceCoords,\n            sourceAirport.position, // From source to airport\n            destAirport.position,   // From airport to airport (flight)\n            destCoords              // From airport to destination\n          ]);\n          \n          // Get directions to and from airports\n          const directionsService = new google.maps.DirectionsService();\n          \n          // Source to source airport\n          const toAirportDirections = await directionsService.route({\n            origin: sourceCoords,\n            destination: sourceAirport.position,\n            travelMode: google.maps.TravelMode.DRIVING,\n          });\n          \n          // Destination airport to destination\n          const fromAirportDirections = await directionsService.route({\n            origin: destAirport.position,\n            destination: destCoords,\n            travelMode: google.maps.TravelMode.DRIVING,\n          });\n          \n          // Add these distances to total\n          const toAirportDistance = toAirportDirections.routes[0].legs[0].distance.value;\n          const fromAirportDistance = fromAirportDirections.routes[0].legs[0].distance.value;\n          \n          // Update total distance to include travel to/from airports\n          distanceValue += toAirportDistance + fromAirportDistance;\n          \n          // Update duration to include travel to/from airports\n          const toAirportDuration = toAirportDirections.routes[0].legs[0].duration.value;\n          const fromAirportDuration = fromAirportDirections.routes[0].legs[0].duration.value;\n          durationValue += toAirportDuration + fromAirportDuration;\n          \n          // Plus 2 hours for airport procedures\n          durationValue += 2 * 60 * 60; // 2 hours in seconds\n        }\n        \n        // Clear any existing directions\n        setDirectionsResponse(null);\n      } else {\n        // For other modes, get directions from Google\n        const directionsService = new google.maps.DirectionsService();\n        directionsResult = await directionsService.route({\n          origin: sourceCoords,\n          destination: destCoords,\n          travelMode: google.maps.TravelMode[transportMode.toUpperCase()],\n          avoidTolls: routePreferences.avoidTolls,\n          avoidHighways: routePreferences.avoidHighways,\n        });\n        \n        distanceValue = directionsResult.routes[0].legs[0].distance.value;\n        durationValue = directionsResult.routes[0].legs[0].duration.value;\n        \n        // Set directions with custom styling for algorithms\n        const rendererOptions = {\n          directions: directionsResult,\n          options: {\n            polylineOptions: {\n              strokeColor: algorithmColors[algorithm],\n              strokeWeight: 6,\n              strokeOpacity: 0.8\n            },\n            suppressMarkers: true // Suppress default markers since we're using custom ones\n          }\n        };\n        \n        setDirectionsResponse(rendererOptions);\n        setFlightPath(null);\n        setAirports(null);\n      }\n\n      // Format distance\n      let distanceText;\n      if (distanceValue < 1000) {\n        distanceText = `${Math.round(distanceValue)} m`;\n      } else {\n        distanceText = `${(distanceValue / 1000).toFixed(2)} km`;\n      }\n\n      // Format duration\n      let durationText;\n      if (durationValue < 60) {\n        durationText = `${Math.round(durationValue)} sec`;\n      } else if (durationValue < 3600) {\n        durationText = `${Math.floor(durationValue / 60)} min`;\n      } else {\n        const hours = Math.floor(durationValue / 3600);\n        const minutes = Math.floor((durationValue % 3600) / 60);\n        durationText = `${hours} hr ${minutes} min`;\n      }\n\n      setDistance(distanceText);\n      setDuration(durationText);\n\n      // Notify parent component about the calculated route\n      if (onRouteCalculated) {\n        onRouteCalculated(source, destination, {\n          source,\n          destination,\n          distance: distanceValue,\n          duration: durationValue,\n        });\n      }\n\n      // Show success message\n      let algorithmName;\n      switch (algorithm) {\n        case \"dijkstra\":\n          algorithmName = \"Dijkstra's\";\n          break;\n        case \"bfs\":\n          algorithmName = \"BFS\";\n          break;\n        case \"dfs\":\n          algorithmName = \"DFS\";\n          break;\n        default:\n          algorithmName = \"A*\";\n      }\n\n      showToast(`Route calculated using ${algorithmName} algorithm`);\n    } catch (error) {\n      console.error(\"Error calculating route:\", error);\n      showToast(error.message || \"Error calculating route\", \"error\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Clear route\n  const clearRoute = () => {\n    setStartMarker(null);\n    setEndMarker(null);\n    setDirectionsResponse(null);\n    setFlightPath(null);\n    setAirports(null);\n    setDistance(\"\");\n    setDuration(\"\");\n    \n    // Restore current location if needed\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const pos = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          };\n          setCurrentLocation(pos);\n          \n          // Pass current location to parent component\n          if (onLocationUpdate) {\n            onLocationUpdate(pos);\n          }\n        },\n        (error) => {\n          console.error(\"Geolocation error:\", error);\n        }\n      );\n    }\n    \n    // Update parent state\n    onInputValueChange('source', '');\n    onInputValueChange('destination', '');\n  };\n\n  // Clear a specific field (origin or destination)\n  const clearField = (field) => {\n    if (field === 'source') {\n      onInputValueChange('source', '');\n      sourceRef.current.value = '';\n      if (startMarker) {\n        setStartMarker(null);\n        // If we have a route calculated, clear it\n        if (directionsResponse || flightPath) {\n          clearRoute();\n        }\n      }\n    } else if (field === 'destination') {\n      onInputValueChange('destination', '');\n      destinationRef.current.value = '';\n      if (endMarker) {\n        setEndMarker(null);\n        // If we have a route calculated, clear it\n        if (directionsResponse || flightPath) {\n          clearRoute();\n        }\n      }\n    }\n  };\n\n  // Update input refs when props change\n  useEffect(() => {\n    if (sourceRef.current && sourceValue) {\n      sourceRef.current.value = sourceValue;\n    }\n    if (destinationRef.current && destinationValue) {\n      destinationRef.current.value = destinationValue;\n    }\n  }, [sourceValue, destinationValue]);\n\n  // Center map on current position\n  const getCurrentLocation = async () => {\n    if (navigator.geolocation) {\n      try {\n        const position = await new Promise((resolve, reject) => {\n          navigator.geolocation.getCurrentPosition(\n            (pos) => resolve({ lat: pos.coords.latitude, lng: pos.coords.longitude }),\n            (error) => reject(error)\n          );\n        });\n\n        // Set current location first time we get it\n        if (!currentLocation) {\n          setCurrentLocation(position);\n          \n          // Pass location to parent component\n          if (onLocationUpdate) {\n            onLocationUpdate(position);\n          }\n        }\n        \n        showToast(\"Location found!\");\n        \n        // Set the source field to current location\n        if (sourceRef.current) {\n          const address = await getAddressFromCoordinates(position);\n          sourceRef.current.value = address;\n          handleInputChange('source', address);\n        }\n        \n        if (map) {\n          map.setCenter(position);\n          map.setZoom(13);\n        }\n      } catch (error) {\n        console.error(\"Error getting current location:\", error);\n        showToast(\"Unable to retrieve your location\", \"error\");\n      } finally {\n        setIsLoading(false);\n      }\n    } else {\n      showToast(\"Error: Your browser doesn't support geolocation\", \"error\");\n    }\n  };\n\n  // Effect when component mounts - try to get current location automatically\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        (position) => {\n          const pos = {\n            lat: position.coords.latitude,\n            lng: position.coords.longitude,\n          };\n          setCurrentLocation(pos);\n          \n          // Pass current location to parent component\n          if (onLocationUpdate) {\n            onLocationUpdate(pos);\n          }\n        },\n        (error) => {\n          console.error(\"Geolocation error:\", error);\n        }\n      );\n    }\n  }, []);\n\n  // Handle route preference changes\n  const handlePreferenceChange = (e) => {\n    const { name, value, checked, type } = e.target;\n\n    setRoutePreferences((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  // Handle algorithm change\n  const handleAlgorithmChange = (e) => {\n    setAlgorithm(e.target.value);\n    \n    // Update route color if directions exist\n    if (directionsResponse) {\n      setDirectionsResponse({\n        ...directionsResponse,\n        options: {\n          ...directionsResponse.options,\n          polylineOptions: {\n            ...directionsResponse.options.polylineOptions,\n            strokeColor: algorithmColors[e.target.value]\n          }\n        }\n      });\n    }\n  };\n\n  // Handle transport mode change\n  const handleTransportModeChange = (mode) => {\n    setTransportMode(mode);\n    if (mode !== \"flying\") {\n      setAirports(null);\n      setFlightPath(null);\n    }\n  };\n\n  // Toggle algorithm info\n  const toggleAlgorithmInfo = () => {\n    setShowAlgorithmInfo(!showAlgorithmInfo);\n  };\n\n  // Get icon for transport mode button\n  const getTransportIcon = (mode) => {\n    switch (mode) {\n      case \"flying\":\n        return <FaPlane />;\n      case \"walking\":\n        return <FaWalking />;\n      case \"transit\":\n        return <FaTrain />;\n      default:\n        return <FaCar />;\n    }\n  };\n\n  // Find nearby airports\n  const findNearbyAirports = async (location) => {\n    try {\n      // In a real app, we'd use a Places API call\n      // For demonstration, we'll simulate finding airports\n      \n      // Generate a fake airport nearby (within ~10-20km)\n      const airportOffset = () => (Math.random() * 0.2) - 0.1; // Random offset of ~10km\n      \n      const airportLat = location.lat + airportOffset();\n      const airportLng = location.lng + airportOffset();\n      \n      // Generate an IATA code\n      const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n      const randomLetter = () => alphabet[Math.floor(Math.random() * alphabet.length)];\n      const iataCode = randomLetter() + randomLetter() + randomLetter();\n      \n      return {\n        position: { lat: airportLat, lng: airportLng },\n        name: `${iataCode} International Airport`,\n        iata: iataCode\n      };\n    } catch (error) {\n      console.error(\"Error finding airports:\", error);\n      return null;\n    }\n  };\n\n  // Handle input changes and pass to parent component\n  const handleInputChange = (type, value) => {\n    if (onInputValueChange) {\n      onInputValueChange(type, value);\n    }\n  };\n\n  // Render loading state if Google Maps isn't loaded yet\n  if (!isLoaded) {\n    return <div>Loading Maps...</div>;\n  }\n\n  return (\n    <div className=\"flex h-full\">\n      {/* Main map container */}\n      <div className=\"relative w-full h-full\">\n        <GoogleMap\n          mapContainerStyle={MAP_CONTAINER_STYLE}\n          center={DEFAULT_CENTER}\n          zoom={10}\n          options={MAP_OPTIONS}\n          onLoad={onMapLoad}\n        >\n          {directionsResponse && (\n            <DirectionsRenderer \n              directions={directionsResponse.directions}\n              options={directionsResponse.options}\n            />\n          )}\n\n          {/* Flight path visualization with arcs */}\n          {flightPath && (\n            <>\n              {/* Source to departure airport path */}\n              <Polyline\n                path={[flightPath[0], flightPath[1]]}\n                options={{\n                  strokeColor: \"#808080\", // Gray for ground transport\n                  strokeOpacity: 0.8,\n                  strokeWeight: 3,\n                }}\n              />\n              \n              {/* Air route with arc */}\n              <Polyline\n                path={[flightPath[1], flightPath[2]]}\n                options={{\n                  strokeColor: algorithmColors[algorithm],\n                  strokeOpacity: 0.8,\n                  strokeWeight: 5,\n                  geodesic: true, // Creates an arc for flight path\n                  icons: [{\n                    icon: {\n                      path: 'M 0,-1 0,1',\n                      strokeOpacity: 1,\n                      scale: 4\n                    },\n                    offset: '0',\n                    repeat: '20px'\n                  }]\n                }}\n              />\n              \n              {/* Arrival airport to destination path */}\n              <Polyline\n                path={[flightPath[2], flightPath[3]]}\n                options={{\n                  strokeColor: \"#808080\", // Gray for ground transport\n                  strokeOpacity: 0.8,\n                  strokeWeight: 3,\n                }}\n              />\n            </>\n          )}\n\n          {startMarker && (\n            <Marker\n              position={startMarker}\n              label=\"A\"\n            />\n          )}\n\n          {endMarker && (\n            <Marker\n              position={endMarker}\n              label=\"B\"\n            />\n          )}\n\n          {/* Airport markers */}\n          {airports && (\n            <>\n              <Marker\n                position={airports.source.position}\n                icon={{\n                  url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n                  scaledSize: new google.maps.Size(32, 32)\n                }}\n                onClick={() => setSelectedMarker({\n                  position: airports.source.position,\n                  title: airports.source.name,\n                  description: `Airport code: ${airports.source.iata}`\n                })}\n              />\n              <Marker\n                position={airports.destination.position}\n                icon={{\n                  url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png',\n                  scaledSize: new google.maps.Size(32, 32)\n                }}\n                onClick={() => setSelectedMarker({\n                  position: airports.destination.position,\n                  title: airports.destination.name,\n                  description: `Airport code: ${airports.destination.iata}`\n                })}\n              />\n            </>\n          )}\n\n          {selectedMarker && (\n            <InfoWindow\n              position={selectedMarker.position}\n              onCloseClick={() => setSelectedMarker(null)}\n            >\n              <div className=\"p-1\">\n                <h3 className=\"font-bold text-gray-900 mb-1\">\n                  {selectedMarker.title}\n                </h3>\n                {selectedMarker.type && (\n                  <div className=\"text-xs text-blue-600 font-medium mb-1\">\n                    {selectedMarker.type}\n                  </div>\n                )}\n                {selectedMarker.rating && (\n                  <div className=\"text-xs text-yellow-500 font-medium mb-1\">\n                    Rating: {selectedMarker.rating} ★\n                  </div>\n                )}\n                {selectedMarker.description && (\n                  <p className=\"text-xs text-gray-600\">\n                    {selectedMarker.description}\n                  </p>\n                )}\n              </div>\n            </InfoWindow>\n          )}\n\n          {/* Current location marker - using a circle similar to Google Maps standard blue location indicator */}\n          {currentLocation && !startMarker && !endMarker && (\n            <>\n              {/* Accuracy circle */}\n              <Marker\n                position={currentLocation}\n                icon={{\n                  path: google.maps.SymbolPath.CIRCLE,\n                  fillColor: '#4285F4',\n                  fillOpacity: 0.2,\n                  strokeColor: '#4285F4',\n                  strokeOpacity: 0.5,\n                  strokeWeight: 1,\n                  scale: 12\n                }}\n                clickable={false}\n              />\n              {/* Center dot */}\n              <Marker\n                position={currentLocation}\n                icon={{\n                  path: google.maps.SymbolPath.CIRCLE,\n                  fillColor: '#4285F4',\n                  fillOpacity: 1,\n                  strokeColor: '#FFFFFF',\n                  strokeWeight: 2,\n                  scale: 6\n                }}\n                title=\"Your location\"\n              />\n            </>\n          )}\n        </GoogleMap>\n\n        {/* Controls container */}\n        <div className=\"absolute top-4 left-4 bg-white p-4 rounded-lg shadow-md w-72\">\n          <div className=\"space-y-3\">\n            <h3 className=\"font-bold text-lg\">WanderWise Router</h3>\n            \n            <div>\n              <Autocomplete>\n                <div className=\"relative\">\n                  <input\n                    ref={sourceRef}\n                    type=\"text\"\n                    placeholder=\"Origin\"\n                    defaultValue={sourceValue}\n                    onChange={(e) => onInputValueChange('source', e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\n                  />\n                  {sourceValue && (\n                    <button \n                      className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                      onClick={() => clearField('source')}\n                    >\n                      ✕\n                    </button>\n                  )}\n                </div>\n              </Autocomplete>\n            </div>\n            <div>\n              <Autocomplete>\n                <div className=\"relative\">\n                  <input\n                    ref={destinationRef}\n                    type=\"text\"\n                    placeholder=\"Destination\"\n                    defaultValue={destinationValue}\n                    onChange={(e) => onInputValueChange('destination', e.target.value)}\n                    className=\"w-full p-2 border border-gray-300 rounded focus:outline-none focus:border-teal-500\"\n                  />\n                  {destinationValue && (\n                    <button \n                      className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700\"\n                      onClick={() => clearField('destination')}\n                    >\n                      ✕\n                    </button>\n                  )}\n                </div>\n              </Autocomplete>\n            </div>\n\n            <div className=\"flex items-center space-x-2 text-sm\">\n              <div className=\"mr-2\">\n                <label className=\"flex items-center space-x-1\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"avoidTolls\"\n                    checked={routePreferences.avoidTolls}\n                    onChange={handlePreferenceChange}\n                    className=\"rounded text-teal-500 focus:ring-teal-500\"\n                  />\n                  <span className=\"flex items-center\">\n                    <FaMoneyBillWave className=\"text-teal-500 mr-1\" /> No Tolls\n                  </span>\n                </label>\n              </div>\n              <div>\n                <label className=\"flex items-center space-x-1\">\n                  <input\n                    type=\"checkbox\"\n                    name=\"avoidHighways\"\n                    checked={routePreferences.avoidHighways}\n                    onChange={handlePreferenceChange}\n                    className=\"rounded text-teal-500 focus:ring-teal-500\"\n                  />\n                  <span className=\"flex items-center\">\n                    <FaTree className=\"text-teal-500 mr-1\" /> Scenic\n                  </span>\n                </label>\n              </div>\n            </div>\n\n            {/* Algorithm Selection - Box Style */}\n            <div className=\"mt-2\">\n              <div className=\"border border-gray-300 rounded overflow-hidden\">\n                <button \n                  onClick={toggleAlgorithmInfo}\n                  className={`w-full px-3 py-2 text-sm font-medium ${showAlgorithmInfo ? 'bg-teal-50 text-teal-600' : 'text-gray-700 hover:bg-gray-50'} flex justify-between items-center`}\n                  title=\"Click to select routing algorithm\"\n                >\n                  <span>Algorithms</span>\n                  <FaInfoCircle className={`transition-transform ${showAlgorithmInfo ? 'transform rotate-180' : ''}`} />\n                </button>\n              </div>\n              \n              {showAlgorithmInfo && (\n                <div className=\"mt-2 p-2 bg-gray-100 rounded border border-gray-200 text-xs\">\n                  <div className=\"mb-2\">\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"algorithm\" \n                        value=\"a-star\"\n                        checked={algorithm === \"a-star\"}\n                        onChange={handleAlgorithmChange}\n                        className=\"mr-1\"\n                      />\n                      <span className=\"font-medium\">A* Algorithm</span>\n                    </label>\n                    <p className=\"text-gray-600 ml-4\">Optimized pathfinding, fastest routes.</p>\n                  </div>\n                  \n                  <div className=\"mb-2\">\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"algorithm\" \n                        value=\"dijkstra\"\n                        checked={algorithm === \"dijkstra\"}\n                        onChange={handleAlgorithmChange}\n                        className=\"mr-1\"\n                      />\n                      <span className=\"font-medium\">Dijkstra's Algorithm</span>\n                    </label>\n                    <p className=\"text-gray-600 ml-4\">Finds shortest path, considers all options.</p>\n                  </div>\n                  \n                  <div className=\"mb-2\">\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"algorithm\" \n                        value=\"bfs\"\n                        checked={algorithm === \"bfs\"}\n                        onChange={handleAlgorithmChange}\n                        className=\"mr-1\"\n                      />\n                      <span className=\"font-medium\">BFS (Breadth-First Search)</span>\n                    </label>\n                    <p className=\"text-gray-600 ml-4\">Explores routes level by level, good for shorter distances.</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"flex items-center\">\n                      <input \n                        type=\"radio\" \n                        name=\"algorithm\" \n                        value=\"dfs\"\n                        checked={algorithm === \"dfs\"}\n                        onChange={handleAlgorithmChange}\n                        className=\"mr-1\"\n                      />\n                      <span className=\"font-medium\">DFS (Depth-First Search)</span>\n                    </label>\n                    <p className=\"text-gray-600 ml-4\">Explores deep routes first, can find scenic alternatives.</p>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* Transport Mode Selection */}\n            <div className=\"flex justify-between mt-3\">\n              <button\n                onClick={() => handleTransportModeChange(\"driving\")}\n                className={`p-2 rounded-full ${\n                  transportMode === \"driving\"\n                    ? \"bg-teal-500 text-white\"\n                    : \"bg-gray-200 text-gray-600\"\n                }`}\n                title=\"Car\"\n              >\n                <FaCar />\n              </button>\n              <button\n                onClick={() => handleTransportModeChange(\"flying\")}\n                className={`p-2 rounded-full ${\n                  transportMode === \"flying\"\n                    ? \"bg-teal-500 text-white\"\n                    : \"bg-gray-200 text-gray-600\"\n                }`}\n                title=\"Flight\"\n              >\n                <FaPlane />\n              </button>\n              <button\n                onClick={() => handleTransportModeChange(\"walking\")}\n                className={`p-2 rounded-full ${\n                  transportMode === \"walking\"\n                    ? \"bg-teal-500 text-white\"\n                    : \"bg-gray-200 text-gray-600\"\n                }`}\n                title=\"Walking\"\n              >\n                <FaWalking />\n              </button>\n              <button\n                onClick={() => handleTransportModeChange(\"transit\")}\n                className={`p-2 rounded-full ${\n                  transportMode === \"transit\"\n                    ? \"bg-teal-500 text-white\"\n                    : \"bg-gray-200 text-gray-600\"\n                }`}\n                title=\"Transit\"\n              >\n                <FaTrain />\n              </button>\n            </div>\n            \n            <div className=\"flex justify-between\">\n              <button\n                onClick={calculateRoute}\n                className=\"flex items-center justify-center bg-teal-500 text-white py-2 px-4 rounded hover:bg-teal-600 transition\"\n                disabled={isLoading}\n              >\n                {isLoading ? (\n                  \"Calculating...\"\n                ) : (\n                  <>\n                    {transportMode === \"driving\" ? <FaCar className=\"mr-2\" /> :\n                    transportMode === \"flying\" ? <FaPlane className=\"mr-2\" /> :\n                    transportMode === \"walking\" ? <FaWalking className=\"mr-2\" /> :\n                    <FaTrain className=\"mr-2\" />}\n                    Calculate\n                  </>\n                )}\n              </button>\n              <button\n                onClick={clearRoute}\n                className=\"bg-red-500 text-white p-2 rounded hover:bg-red-600 transition\"\n              >\n                <FaTimes />\n              </button>\n              <button\n                onClick={getCurrentLocation}\n                className=\"bg-blue-500 text-white p-2 rounded hover:bg-blue-600 transition\"\n              >\n                <FaLocationArrow />\n              </button>\n            </div>\n\n            {/* Display distance and duration */}\n            {distance && duration && (\n              <div className=\"mt-2 p-2 bg-gray-100 rounded\">\n                <div className=\"text-sm\"><strong>Distance:</strong> {distance}</div>\n                <div className=\"text-sm\"><strong>Duration:</strong> {duration}</div>\n                <div className=\"text-xs text-gray-500 mt-1\">\n                  Calculated using {algorithm === \"a-star\" ? \"A*\" : \n                    algorithm === \"dijkstra\" ? \"Dijkstra's\" : \n                    algorithm === \"bfs\" ? \"BFS\" : \"DFS\"} algorithm\n                </div>\n                <div className=\"text-xs text-gray-500\">\n                  Transport mode: {transportMode === \"driving\" ? \"Car\" :\n                    transportMode === \"flying\" ? \"Flight\" :\n                    transportMode === \"walking\" ? \"Walking\" : \"Transit\"}\n                </div>\n              </div>\n            )}\n            \n            {/* Toast notification */}\n            {toast.show && (\n              <div className={`mt-2 p-2 rounded text-sm ${\n                toast.type === 'error' ? 'bg-red-100 text-red-700' : 'bg-green-100 text-green-700'\n              }`}>\n                {toast.message}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Map;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}